{% extends 'psc/layout.html' %}
{% block content %}
<div class="grid_16">
	<div class="box"> 
		<h2>Voter's Registration Checklist and Incidents</h2>
		<div class="block">
			<table>
				<tr class="odd">
					<th>Date</th>
					<th>Registration Center</th>
					<th>RCID</th>
					<th>LGA</th>
					<th>State</th>
					<th>Observer</th>
					<th>Supervisor</th>
					<th>1st</th>
					<th>2nd</th>
					<th>3rd</th>
					<th>IN</th>
					<th>Edit</th>
				</tr>
				{% for cl in checklists.object_list %}
				<tr{% cycle '' ' class="odd"' %}>
					<td>{{ cl.date|date:"SHORT_DATE_FORMAT" }}</td>
					<td>{{ cl.location.name|default:"Unknown" }}</td>
					<td>{{ cl.location.code|default:"999" }}</td>
					<td>{{ cl.location.parent.name|default:"Uknown" }}</td>
					<td>{{ cl.location.parent.parent.name|default:"Uknown" }}</td>
					<td>{{ cl.observer.name }}</td>
					<td>{{ cl.observer.supervisor.name }}</td>
					<td>
					<img src="/assets/img/status.png" width="16" height="16" alt="complete" />
					</td>
					<td>
					{% if cl.A and cl.B and cl.C and cl.G %}
						{% if cl.D1 or cl.D2 or cl.D3 or cl.D4 %}
							{% if cl.E1 or cl.E2 or cl.E3 or cl.E4 or cl.E5 %}
					<img src="/assets/img/status.png" width="16" height="16" alt="complete" />
							{% endif %}
						{% endif %}
					{% else %}
					{% if cl.A or cl.B or cl.C or cl.D1 or cl.D2 or cl.D3 or cl.D4 or cl.E1 or cl.E2 or cl.E3 or cl.E4 or cl.E5 or cl.F or cl.G %}
					<img src="/assets/img/status-away.png" width="16" height="16" alt="incomplete" />
					{% else %}
					&nbsp;
					{% endif %}
					{% endif %}
					</td>
					<td>
					{% if cl.H and cl.J and cl.K and cl.M and cl.N and cl.P and cl.Q and cl.R and cl.S and cl.T and cl.U and cl.V and cl.W and cl.X and cl.Y and cl.Z and cl.AA %}
					<img src="/assets/img/status.png" width="16" height="16" alt="complete" />
					{% else %}
					{% if cl.H or cl.J or cl.K or cl.M or cl.N or cl.P or cl.Q or cl.R or cl.S or cl.T or cl.U or cl.V or cl.W or cl.X or cl.Y or cl.Z or cl.AA %}
					<img src="/assets/img/status-away.png" width="16" height="16" alt="incomplete" />
					{% else %}
					&nbsp;
					{% endif %}
					{% endif %}
					</td>
					<td><a href="{% url psc.views.vr_incidents cl.id %} ">Add</a></td>
					<td><a href="{% url psc.views.vr_checklist cl.id %}">Edit</a></td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="12" class="nodata">No reports yet</td>
				</tr>
				{% endfor %}
			</table>
		</div>
		{% if checklist.has_other_pages %}
		<div class="paginator">
			<a href="?page={{ checklist.previous_page_number }}"><span>&laquo;</span></a>
			{% for pagenum in checklist.paginator.page_range %}
			<a href="?page={{ pagenum }}"><span>1</span></a>
			{% endfor %}
			<a href="?page={{ checklist.next_page_number }}"><span>&raquo;</span></a>
		</div>
		{% endif %}
	</div>
</div>

{% endblock %}
